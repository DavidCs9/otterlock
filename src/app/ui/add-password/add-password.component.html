<div class="relative">
  <h2>Add new password</h2>
  <button class="absolute right-0 top-0" (click)="close()">
    <span class="icon-[tabler--x]"></span>
  </button>
</div>
<form
  [formGroup]="addPasswordForm"
  class="mt-3 grid grid-cols-1 gap-3 text-gray-600"
>
  <input
    formControlName="site"
    type="text"
    class="w-full rounded-lg border border-slate-300 p-2"
    placeholder="Site"
    autofocus
  />
  <input
    formControlName="password"
    type="text"
    class="w-full rounded-lg border border-slate-300 p-2"
    placeholder="Password"
  />
  <button
    class="flex w-full items-center justify-center gap-2 rounded-lg border border-gray-500 p-2 text-sm font-semibold text-gray-500"
    (click)="generatePassword()"
  >
    <lord-icon
      src="https://cdn.lordicon.com/ebjjjrhp.json"
      trigger="in"
      delay="500"
      state="in-reveal"
      colors="primary:#121331,secondary:#8e98f5"
      style="width: 20px; height: 20px"
    >
    </lord-icon>
    Generate password
  </button>
  @if (loadingPassword()) {
    <div
      class="flex w-full items-center justify-center gap-2 rounded-lg bg-primary p-2 font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50"
    >
      <lord-icon
        src="https://cdn.lordicon.com/zrkkrrpl.json"
        trigger="loop"
        colors="primary:#ffffff,secondary:#dfe2fe"
        style="width: 25px; height: 25px"
      >
      </lord-icon>
      loading
    </div>
  } @else {
    <button
      (click)="handleAddPassword()"
      class="flex w-full items-center justify-center gap-2 rounded-lg bg-primary p-2 font-semibold text-white disabled:cursor-not-allowed disabled:opacity-50"
      [disabled]="addPasswordForm.invalid"
    >
      <lord-icon
        src="https://cdn.lordicon.com/zrkkrrpl.json"
        colors="primary:#ffffff,secondary:#dfe2fe"
        style="width: 25px; height: 25px"
      >
      </lord-icon>
      Add password
    </button>
  }
</form>
